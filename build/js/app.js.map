{"version":3,"sources":["app.js"],"names":["budgetController","Expense","id","category","description","value","date","Income","data","allItems","exp","inc","totals","budget","percentage","monthData","jan","totalExpenses","categories","food","transportation","other","feb","mar","apr","may","jun","jul","aug","sep","oct","nov","dec","localStorage","getItem","setItem","JSON","stringify","parse","calculateTotal","type","sum","forEach","itemSum","addItemToArray","desc","val","newItem","ID","length","push","deleteItemFromArray","ids","index","map","currentElement","indexOf","splice","calculateBudget","updateAllMonths","allExp","months","updateJanExp","januaryExp","filter","item","itemDate","Date","month","getMonth","totalFood","totalTransport","totalOther","e","updateFebExp","februaryExp","updateMarExp","marchExp","updateAprExp","aprilExp","updateMayExp","mayExp","updateJunExp","juneExp","updateJulExp","julyExp","getMonthData","getBudget","totalIncome","totalExpense","testData","console","log","testMonthData","getData","UIController","DOMStrings","inputDescription","inputValue","inputBtn","incomeContainer","expenseContainer","budgetLabel","incomeLabel","expensesLabel","listsContainer","dateLabel","typeSelected","document","querySelector","typeOptionsContainer","typeOptionsList","querySelectorAll","addEventListener","classList","toggle","o","innerHTML","remove","categorySelected","categoryOptionsContainer","categoryOptionsList","myCalendar","VanillaCalendar","selector","getInput","parseFloat","getAttribute","showOldDomItems","expensesList","saved","ModalWindow","init","body","target","contains","closeModal","getHtmlTemplate","modalOptions","title","content","openModal","Object","assign","modalTemplate","insertAdjacentHTML","closeButton","modalOverlay","parentElement","removeChild","addItemToDom","obj","element","html","newHtml","replace","deleteItemFromDom","htmlID","getElementById","clearFields","descriptionField","focus","displayBudget","textContent","displayMonth","now","year","getFullYear","getDOMStrings","controller","UI","charts","DOM","updateBudget","budgetNow","addItem","input","calDateList","calDateListArr","Array","from","isDateSelected","some","isNaN","deleteItem","event","itemID","splitID","split","parseInt","keyCode"],"mappings":"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","sourcesContent":["// Budget Controller\r\nlet budgetController = (function () {\r\n\r\n   let Expense = function (id, category, description, value, date) {\r\n      this.id = id;\r\n      this.category = category\r\n      this.description = description;\r\n      this.value = value;\r\n      this.date = date;\r\n   };\r\n   let Income = function (id, description, value, date) {\r\n      this.id = id;\r\n      this.description = description;\r\n      this.value = value;\r\n      this.date = date;\r\n   };\r\n\r\n   let data = {\r\n      allItems: {\r\n         exp: [],\r\n         inc: []\r\n      },\r\n      totals: {\r\n         exp: 0,\r\n         inc: 0\r\n      },\r\n      budget: 0,\r\n      percentage: -1\r\n   };\r\n\r\n   let monthData = {\r\n      jan: {\r\n         totalExpenses: 0,\r\n         categories: {\r\n            food: 2,\r\n            transportation: 0,\r\n            other: 0\r\n         }\r\n      },\r\n      feb: {\r\n         totalExpenses: 0,\r\n         categories: {\r\n            food: 0,\r\n            transportation: 0,\r\n            other: 0\r\n         }\r\n      },\r\n      mar: {\r\n         totalExpenses: 0,\r\n         categories: {\r\n            food: 0,\r\n            transportation: 0,\r\n            other: 0\r\n         }\r\n      },\r\n      apr: {\r\n         totalExpenses: 0,\r\n         categories: {\r\n            food: 0,\r\n            transportation: 0,\r\n            other: 0\r\n         }\r\n      },\r\n      may: {\r\n         totalExpenses: 0,\r\n         categories: {\r\n            food: 0,\r\n            transportation: 0,\r\n            other: 0\r\n         }\r\n      },\r\n      jun: {\r\n         totalExpenses: 0,\r\n         categories: {\r\n            food: 0,\r\n            transportation: 0,\r\n            other: 0\r\n         }\r\n      },\r\n      jul: {\r\n         totalExpenses: 0,\r\n         categories: {\r\n            food: 0,\r\n            transportation: 0,\r\n            other: 0\r\n         }\r\n      },\r\n      aug: {\r\n         totalExpenses: 0,\r\n         categories: {\r\n            food: 0,\r\n            transportation: 0,\r\n            other: 0\r\n         }\r\n      },\r\n      sep: {\r\n         totalExpenses: 0,\r\n         categories: {\r\n            food: 0,\r\n            transportation: 0,\r\n            other: 0\r\n         }\r\n      },\r\n      oct: {\r\n         totalExpenses: 0,\r\n         categories: {\r\n            food: 0,\r\n            transportation: 0,\r\n            other: 0\r\n         }\r\n      },\r\n      nov: {\r\n         totalExpenses: 0,\r\n         categories: {\r\n            food: 0,\r\n            transportation: 0,\r\n            other: 0\r\n         }\r\n      },\r\n      dec: {\r\n         totalExpenses: 0,\r\n         categories: {\r\n            food: 0,\r\n            transportation: 0,\r\n            other: 0\r\n         }\r\n      }\r\n   }\r\n\r\n   // Localstorage\r\n   if (localStorage.getItem(\"Data\") == null) {\r\n      localStorage.setItem(\"Data\", JSON.stringify(data));\r\n   } else {\r\n      // console.log(\"There already is a key -- DATA -- in localstorage.\")\r\n      // if there is Data in localstorage get it\r\n      data = JSON.parse(localStorage.getItem(\"Data\"));\r\n   }\r\n\r\n   if (localStorage.getItem(\"MonthData\") == null) {\r\n      localStorage.setItem(\"MonthData\", JSON.stringify(monthData));\r\n   } else {\r\n      // console.log(\"There is already a key -- MONTHDATA -- in localstorage.\")\r\n      monthData = JSON.parse(localStorage.getItem(\"MonthData\"));\r\n   }\r\n\r\n\r\n   let calculateTotal = function (type) {\r\n      let sum = 0;\r\n      data.allItems[type].forEach(function (itemSum) {\r\n         sum = sum + itemSum.value;\r\n      });\r\n      data.totals[type] = sum;\r\n   };\r\n\r\n\r\n\r\n   return {\r\n      addItemToArray: function (type, category, desc, val, date) {\r\n         let newItem;\r\n         let ID;\r\n\r\n         if (!data.allItems[type].length > 0) {\r\n            ID = 0;\r\n         } else {\r\n            ID = data.allItems[type][data.allItems[type].length - 1].id + 1;\r\n         }\r\n\r\n         if (type === \"exp\") {\r\n            newItem = new Expense(ID, category, desc, val, date);\r\n         } else if (type === \"inc\") {\r\n            newItem = new Income(ID, desc, val, date);\r\n         }\r\n         data.allItems[type].push(newItem);\r\n         localStorage.setItem(\"Data\", JSON.stringify(data));\r\n\r\n         return newItem;\r\n      },\r\n      deleteItemFromArray: function (type, id) {\r\n         let ids;\r\n         let index;\r\n\r\n         ids = data.allItems[type].map(function (currentElement) {\r\n            return currentElement.id;\r\n         });\r\n\r\n         index = ids.indexOf(id);\r\n\r\n         if (index !== -1) {\r\n            data.allItems[type].splice(index, 1);\r\n         }\r\n         localStorage.setItem(\"Data\", JSON.stringify(data));\r\n      },\r\n      calculateBudget: function () {\r\n         // Calculate total income & expenses\r\n         calculateTotal('inc');\r\n         calculateTotal('exp');\r\n         data.budget = data.totals.inc - data.totals.exp;\r\n      },\r\n      updateAllMonths: function () {\r\n         let allExp = data.allItems.exp;\r\n         let months = [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"];\r\n\r\n         function updateJanExp() {\r\n            let januaryExp = allExp.filter(function (item) {\r\n               let itemDate = new Date(item.date);\r\n               let month = months[itemDate.getMonth()];\r\n\r\n               if (month == \"January\") {\r\n                  return true\r\n               }\r\n            })\r\n\r\n            let totalFood = 0;\r\n            let totalTransport = 0;\r\n            let totalOther = 0;\r\n\r\n            // 3 if's for delete very last item from monthData obj\r\n            if (!allExp.filter(e => e.category === \"food\").length > 0) {\r\n               monthData.jan.categories.food = totalFood;\r\n            }\r\n\r\n            if (!allExp.filter(e => e.category === \"transportation\").length > 0) {\r\n               monthData.jan.categories.transportation = totalTransport;\r\n            }\r\n\r\n            if (!allExp.filter(e => e.category === \"other\").length > 0) {\r\n               monthData.jan.categories.other = totalOther;\r\n            }\r\n\r\n            januaryExp.forEach(function (item) {\r\n               if (item.category == \"food\") {\r\n                  totalFood += item.value;\r\n                  monthData.jan.categories.food = totalFood;\r\n               }\r\n\r\n               if (item.category == \"transportation\") {\r\n                  totalTransport += item.value;\r\n                  monthData.jan.categories.transportation = totalTransport\r\n               }\r\n\r\n               if (item.category == \"other\") {\r\n                  totalOther += item.value;\r\n                  monthData.jan.categories.other = totalOther;\r\n               }\r\n            })\r\n            // Get total expenses by summing all categories\r\n            monthData.jan.totalExpenses = monthData.jan.categories.food + monthData.jan.categories.transportation + monthData.jan.categories.other;\r\n\r\n            // Update localstorage\r\n            localStorage.setItem(\"MonthData\", JSON.stringify(monthData))\r\n         }\r\n         updateJanExp();\r\n\r\n         function updateFebExp() {\r\n            let februaryExp = allExp.filter(function (item) {\r\n               let itemDate = new Date(item.date);\r\n               let month = months[itemDate.getMonth()];\r\n\r\n               if (month == \"February\") {\r\n                  return true\r\n               }\r\n            })\r\n\r\n            let totalFood = 0;\r\n            let totalTransport = 0;\r\n            let totalOther = 0;\r\n\r\n            // 3 if's for delete very last item from monthData obj\r\n            if (!allExp.filter(e => e.category === \"food\").length > 0) {\r\n               monthData.feb.categories.food = totalFood;\r\n            }\r\n\r\n            if (!allExp.filter(e => e.category === \"transportation\").length > 0) {\r\n               monthData.feb.categories.transportation = totalTransport;\r\n            }\r\n\r\n            if (!allExp.filter(e => e.category === \"other\").length > 0) {\r\n               monthData.feb.categories.other = totalOther;\r\n            }\r\n\r\n            februaryExp.forEach(function (item) {\r\n               if (item.category == \"food\") {\r\n                  totalFood += item.value;\r\n                  monthData.feb.categories.food = totalFood;\r\n               }\r\n\r\n               if (item.category == \"transportation\") {\r\n                  totalTransport += item.value;\r\n                  monthData.feb.categories.transportation = totalTransport\r\n               }\r\n\r\n               if (item.category == \"other\") {\r\n                  totalOther += item.value;\r\n                  monthData.feb.categories.other = totalOther;\r\n               }\r\n            })\r\n            // Get total expenses by summing all categories\r\n            monthData.feb.totalExpenses = monthData.feb.categories.food + monthData.feb.categories.transportation + monthData.feb.categories.other;\r\n\r\n            // Update localstorage\r\n            localStorage.setItem(\"MonthData\", JSON.stringify(monthData))\r\n         }\r\n         updateFebExp();\r\n\r\n         function updateMarExp() {\r\n            let marchExp = allExp.filter(function (item) {\r\n               let itemDate = new Date(item.date);\r\n               let month = months[itemDate.getMonth()];\r\n\r\n               if (month == \"March\") {\r\n                  return true\r\n               }\r\n            })\r\n\r\n            let totalFood = 0;\r\n            let totalTransport = 0;\r\n            let totalOther = 0;\r\n\r\n            // 3 if's for delete very last item from monthData obj\r\n            if (!allExp.filter(e => e.category === \"food\").length > 0) {\r\n               monthData.mar.categories.food = totalFood;\r\n            }\r\n\r\n            if (!allExp.filter(e => e.category === \"transportation\").length > 0) {\r\n               monthData.mar.categories.transportation = totalTransport;\r\n            }\r\n\r\n            if (!allExp.filter(e => e.category === \"other\").length > 0) {\r\n               monthData.mar.categories.other = totalOther;\r\n            }\r\n\r\n            marchExp.forEach(function (item) {\r\n               if (item.category == \"food\") {\r\n                  totalFood += item.value;\r\n                  monthData.mar.categories.food = totalFood;\r\n               }\r\n\r\n               if (item.category == \"transportation\") {\r\n                  totalTransport += item.value;\r\n                  monthData.mar.categories.transportation = totalTransport\r\n               }\r\n\r\n               if (item.category == \"other\") {\r\n                  totalOther += item.value;\r\n                  monthData.mar.categories.other = totalOther;\r\n               }\r\n            })\r\n            // Get total expenses by summing all categories\r\n            monthData.mar.totalExpenses = monthData.mar.categories.food + monthData.mar.categories.transportation + monthData.mar.categories.other;\r\n\r\n            // Update localstorage\r\n            localStorage.setItem(\"MonthData\", JSON.stringify(monthData))\r\n         }\r\n         updateMarExp();\r\n\r\n         function updateAprExp() {\r\n            let aprilExp = allExp.filter(function (item) {\r\n               let itemDate = new Date(item.date);\r\n               let month = months[itemDate.getMonth()];\r\n\r\n               if (month == \"April\") {\r\n                  return true\r\n               }\r\n            })\r\n\r\n            let totalFood = 0;\r\n            let totalTransport = 0;\r\n            let totalOther = 0;\r\n\r\n            // 3 if's for delete very last item from monthData obj\r\n            if (!allExp.filter(e => e.category === \"food\").length > 0) {\r\n               monthData.apr.categories.food = totalFood;\r\n            }\r\n\r\n            if (!allExp.filter(e => e.category === \"transportation\").length > 0) {\r\n               monthData.apr.categories.transportation = totalTransport;\r\n            }\r\n\r\n            if (!allExp.filter(e => e.category === \"other\").length > 0) {\r\n               monthData.apr.categories.other = totalOther;\r\n            }\r\n\r\n            aprilExp.forEach(function (item) {\r\n               if (item.category == \"food\") {\r\n                  totalFood += item.value;\r\n                  monthData.apr.categories.food = totalFood;\r\n               }\r\n\r\n               if (item.category == \"transportation\") {\r\n                  totalTransport += item.value;\r\n                  monthData.apr.categories.transportation = totalTransport\r\n               }\r\n\r\n               if (item.category == \"other\") {\r\n                  totalOther += item.value;\r\n                  monthData.apr.categories.other = totalOther;\r\n               }\r\n            })\r\n            // Get total expenses by summing all categories\r\n            monthData.apr.totalExpenses = monthData.apr.categories.food + monthData.apr.categories.transportation + monthData.apr.categories.other;\r\n\r\n            // Update localstorage\r\n            localStorage.setItem(\"MonthData\", JSON.stringify(monthData))\r\n         }\r\n         updateAprExp();\r\n\r\n         function updateMayExp() {\r\n            let mayExp = allExp.filter(function (item) {\r\n               let itemDate = new Date(item.date);\r\n               let month = months[itemDate.getMonth()];\r\n\r\n               if (month == \"May\") {\r\n                  return true\r\n               }\r\n            })\r\n\r\n            let totalFood = 0;\r\n            let totalTransport = 0;\r\n            let totalOther = 0;\r\n\r\n            // 3 if's for delete very last item from monthData obj\r\n            if (!allExp.filter(e => e.category === \"food\").length > 0) {\r\n               monthData.may.categories.food = totalFood;\r\n            }\r\n\r\n            if (!allExp.filter(e => e.category === \"transportation\").length > 0) {\r\n               monthData.may.categories.transportation = totalTransport;\r\n            }\r\n\r\n            if (!allExp.filter(e => e.category === \"other\").length > 0) {\r\n               monthData.may.categories.other = totalOther;\r\n            }\r\n\r\n            mayExp.forEach(function (item) {\r\n               if (item.category == \"food\") {\r\n                  totalFood += item.value;\r\n                  monthData.may.categories.food = totalFood;\r\n               }\r\n\r\n               if (item.category == \"transportation\") {\r\n                  totalTransport += item.value;\r\n                  monthData.may.categories.transportation = totalTransport\r\n               }\r\n\r\n               if (item.category == \"other\") {\r\n                  totalOther += item.value;\r\n                  monthData.may.categories.other = totalOther;\r\n               }\r\n            })\r\n            // Get total expenses by summing all categories\r\n            monthData.may.totalExpenses = monthData.may.categories.food + monthData.may.categories.transportation + monthData.may.categories.other;\r\n\r\n            // Update localstorage\r\n            localStorage.setItem(\"MonthData\", JSON.stringify(monthData))\r\n         }\r\n         updateMayExp();\r\n\r\n         function updateJunExp() {\r\n            let juneExp = allExp.filter(function (item) {\r\n               let itemDate = new Date(item.date);\r\n               let month = months[itemDate.getMonth()];\r\n\r\n               if (month == \"June\") {\r\n                  return true\r\n               }\r\n            })\r\n\r\n            let totalFood = 0;\r\n            let totalTransport = 0;\r\n            let totalOther = 0;\r\n\r\n            // 3 if's for delete very last item from monthData obj\r\n            if (!allExp.filter(e => e.category === \"food\").length > 0) {\r\n               monthData.jun.categories.food = totalFood;\r\n            }\r\n\r\n            if (!allExp.filter(e => e.category === \"transportation\").length > 0) {\r\n               monthData.jun.categories.transportation = totalTransport;\r\n            }\r\n\r\n            if (!allExp.filter(e => e.category === \"other\").length > 0) {\r\n               monthData.jun.categories.other = totalOther;\r\n            }\r\n\r\n            juneExp.forEach(function (item) {\r\n               if (item.category == \"food\") {\r\n                  totalFood += item.value;\r\n                  monthData.jun.categories.food = totalFood;\r\n               }\r\n\r\n               if (item.category == \"transportation\") {\r\n                  totalTransport += item.value;\r\n                  monthData.jun.categories.transportation = totalTransport\r\n               }\r\n\r\n               if (item.category == \"other\") {\r\n                  totalOther += item.value;\r\n                  monthData.jun.categories.other = totalOther;\r\n               }\r\n            })\r\n            // Get total expenses by summing all categories\r\n            monthData.jun.totalExpenses = monthData.jun.categories.food + monthData.jun.categories.transportation + monthData.jun.categories.other;\r\n\r\n            // Update localstorage\r\n            localStorage.setItem(\"MonthData\", JSON.stringify(monthData))\r\n         }\r\n         updateJunExp();\r\n\r\n         function updateJulExp() {\r\n            let julyExp = allExp.filter(function (item) {\r\n               let itemDate = new Date(item.date);\r\n               let month = months[itemDate.getMonth()];\r\n\r\n               if (month == \"July\") {\r\n                  return true\r\n               }\r\n            })\r\n\r\n            let totalFood = 0;\r\n            let totalTransport = 0;\r\n            let totalOther = 0;\r\n\r\n            // 3 if's for delete very last item from monthData obj\r\n            if (!allExp.filter(e => e.category === \"food\").length > 0) {\r\n               monthData.jul.categories.food = totalFood;\r\n            }\r\n\r\n            if (!allExp.filter(e => e.category === \"transportation\").length > 0) {\r\n               monthData.jul.categories.transportation = totalTransport;\r\n            }\r\n\r\n            if (!allExp.filter(e => e.category === \"other\").length > 0) {\r\n               monthData.jul.categories.other = totalOther;\r\n            }\r\n\r\n            julyExp.forEach(function (item) {\r\n               if (item.category == \"food\") {\r\n                  totalFood += item.value;\r\n                  monthData.jul.categories.food = totalFood;\r\n               }\r\n\r\n               if (item.category == \"transportation\") {\r\n                  totalTransport += item.value;\r\n                  monthData.jul.categories.transportation = totalTransport\r\n               }\r\n\r\n               if (item.category == \"other\") {\r\n                  totalOther += item.value;\r\n                  monthData.jul.categories.other = totalOther;\r\n               }\r\n            })\r\n            // Get total expenses by summing all categories\r\n            monthData.jul.totalExpenses = monthData.jul.categories.food + monthData.jul.categories.transportation + monthData.jul.categories.other;\r\n\r\n            // Update localstorage\r\n            localStorage.setItem(\"MonthData\", JSON.stringify(monthData))\r\n         }\r\n         updateJulExp();\r\n\r\n         // If need later we can add rest months Aug, Sep, Oct etc\r\n      },\r\n\r\n      getMonthData: function () {\r\n         return monthData;\r\n      },\r\n      getBudget: function () {\r\n         return {\r\n            budget: data.budget,\r\n            totalIncome: data.totals.inc,\r\n            totalExpense: data.totals.exp,\r\n            percentage: data.percentage\r\n         }\r\n      },\r\n      testData: function () {\r\n         console.log(data);\r\n      },\r\n      testMonthData: function () {\r\n         console.log(monthData);\r\n      },\r\n      getData: function () {\r\n         return data;\r\n      },\r\n      getMonthData: function () {\r\n         return monthData;\r\n      }\r\n   }\r\n})();\r\n\r\n\r\n// UI Controller\r\nlet UIController = (function () {\r\n\r\n   let DOMStrings = {\r\n      inputDescription: \".add-description\",\r\n      inputValue: \".add-value\",\r\n      inputBtn: \".add-btn\",\r\n      incomeContainer: \".income-list\",\r\n      expenseContainer: \".expenses-list\",\r\n      budgetLabel: \".budget-value\",\r\n      incomeLabel: \".budget-income-value\",\r\n      expensesLabel: \".budget-expenses-value\",\r\n      listsContainer: \".container\",\r\n      dateLabel: \".budget-title-month\",\r\n      itemDate: \".vanilla-calendar-date--selected\"\r\n   }\r\n\r\n   // Custom Select Box #1\r\n   const typeSelected = document.querySelector(\".selected.selected-type\");\r\n   const typeOptionsContainer = document.querySelector(\".options-container.options-container-type\");\r\n   const typeOptionsList = document.querySelectorAll(\".option.option-type\");\r\n\r\n\r\n   typeSelected.addEventListener(\"click\", () => {\r\n      typeOptionsContainer.classList.toggle(\"active\");\r\n   })\r\n   typeOptionsList.forEach(o => {\r\n      o.addEventListener(\"click\", () => {\r\n         typeSelected.innerHTML = o.querySelector(\"label\").innerHTML;\r\n         typeOptionsContainer.classList.remove(\"active\");\r\n      })\r\n   })\r\n\r\n   // Custom Select Box #2\r\n   const categorySelected = document.querySelector(\".selected.selected-category\");\r\n   const categoryOptionsContainer = document.querySelector(\".options-container.options-container-category\");\r\n   const categoryOptionsList = document.querySelectorAll(\".option.option-category\");\r\n\r\n   categorySelected.addEventListener(\"click\", () => {\r\n      categoryOptionsContainer.classList.toggle(\"active\");\r\n   })\r\n   categoryOptionsList.forEach(o => {\r\n      o.addEventListener(\"click\", () => {\r\n         categorySelected.innerHTML = o.querySelector(\"label\").innerHTML;\r\n         categoryOptionsContainer.classList.remove(\"active\");\r\n      })\r\n   })\r\n\r\n   // Calendar picker\r\n   let myCalendar = new VanillaCalendar({\r\n      selector: \"#myCalendar\"\r\n   })\r\n\r\n\r\n\r\n   return {\r\n      getInput: function () {\r\n         let type = function () {\r\n            if (document.querySelector(\".selected\").innerHTML ==\r\n               \"Income\") {\r\n               return \"inc\"\r\n            }\r\n            if (document.querySelector(\".selected\").innerHTML == \"Expense\") {\r\n               return \"exp\";\r\n            }\r\n         }\r\n         let category = function () {\r\n            switch (document.querySelector(\".selected.selected-category\").innerHTML) {\r\n               case \"Food\":\r\n                  return \"food\";\r\n               case \"Transportation\":\r\n                  return \"transportation\";\r\n               case \"Other\":\r\n                  return \"other\";\r\n            }\r\n\r\n         }\r\n         return {\r\n            type: type(),\r\n            category: category(),\r\n            description: document.querySelector(DOMStrings.inputDescription).value,\r\n            value: parseFloat(document.querySelector(DOMStrings.inputValue).value),\r\n            date: document.querySelector(DOMStrings.itemDate).getAttribute(\"data-calendar-date\")\r\n         };\r\n      },\r\n      showOldDomItems: function () {\r\n         let expensesList = document.querySelector(\".expenses-list\");\r\n         let saved = localStorage.getItem(\"expensesList\");\r\n         expensesList.innerHTML = saved;\r\n\r\n      },\r\n      ModalWindow: {\r\n         init() {\r\n            document.body.addEventListener(\"click\", e => {\r\n               if (e.target.classList.contains(\"modal-close\")) {\r\n                  this.closeModal(e.target)\r\n               }\r\n            })\r\n         },\r\n\r\n         getHtmlTemplate(modalOptions) {\r\n            return `\r\n               <div class=\"modal-overlay\">\r\n                  <div class=\"modal-window\">\r\n                     <div class=\"modal-titlebar\">\r\n                        <span class=\"modal-title\">${modalOptions.title}</span>\r\n                        <button class=\"modal-close material-icons\">close</button>\r\n                     </div>\r\n                     <div class=\"modal-content\">\r\n                        ${modalOptions.content}\r\n                     </div>\r\n                  </div>\r\n               </div>\r\n            `;\r\n         },\r\n         openModal(modalOptions = {}) {\r\n            modalOptions = Object.assign({\r\n               title: \"Modal Title\",\r\n               content: \"Modal Content\"\r\n            }, modalOptions);\r\n\r\n            const modalTemplate = this.getHtmlTemplate(modalOptions);\r\n            document.body.insertAdjacentHTML(\"beforeend\", modalTemplate);\r\n         },\r\n         closeModal(closeButton) {\r\n            const modalOverlay = closeButton.parentElement.parentElement.parentElement;\r\n            modalOverlay.parentElement.removeChild(modalOverlay);\r\n         }\r\n      },\r\n      addItemToDom: function (obj, type) {\r\n         let element;\r\n         let html;\r\n         let newHtml;\r\n\r\n         if (type === \"inc\") {\r\n            element = DOMStrings.incomeContainer;\r\n            html = '<div class=\"item\" id=\"inc-%id%\">' +\r\n               '<div class=\"item-description\">%description%</div>' +\r\n               '<div class=\"item-value\">%value%</div>' +\r\n               '<div class=\"item-delete\">' +\r\n               '<button class=\"item-delete-btn\">Delete</button>' +\r\n               '</div>' +\r\n               '</div>';\r\n         } else if (type === \"exp\") {\r\n            element = DOMStrings.expenseContainer;\r\n            html = '<div class=\"item\" id=\"exp-%id%\" data-date=\"%date%\">' +\r\n               '<div class=\"item-description\">%description%</div>' +\r\n               '<div class=\"item-value\">%value%</div>' +\r\n               '<div class=\"item-delete\">' +\r\n               '<button class=\"item-delete-btn\">Delete</button>' +\r\n               '</div>' +\r\n               '</div>';\r\n         }\r\n         newHtml = html.replace('%id%', obj.id);\r\n         newHtml = newHtml.replace('%description%', obj.description);\r\n         newHtml = newHtml.replace('%value%', obj.value);\r\n         newHtml = newHtml.replace('%date%', obj.date);\r\n\r\n         // insert HTML into the DOM\r\n         document.querySelector(element).insertAdjacentHTML('beforeend', newHtml);\r\n         // Save the HTML to localstorage\r\n         let expensesList = document.querySelector(\".expenses-list\");\r\n         localStorage.setItem(\"expensesList\", expensesList.innerHTML);\r\n      },\r\n      deleteItemFromDom: function (htmlID) {\r\n         let element = document.getElementById(htmlID);\r\n         element.parentElement.removeChild(element);\r\n\r\n         // Update localstorage data\r\n         let expensesList = document.querySelector(\".expenses-list\");\r\n         localStorage.setItem(\"expensesList\", expensesList.innerHTML)\r\n      },\r\n\r\n      clearFields: function () {\r\n         const descriptionField = document.querySelector(DOMStrings.inputDescription);\r\n         descriptionField.value = \"\";\r\n         document.querySelector(DOMStrings.inputValue).value = \"\";\r\n         descriptionField.focus();\r\n      },\r\n      displayBudget: function (obj) {\r\n         document.querySelector(DOMStrings.budgetLabel).textContent = obj.budget;\r\n         document.querySelector(DOMStrings.incomeLabel).textContent = obj.totalIncome;\r\n         document.querySelector(DOMStrings.expensesLabel).textContent = obj.totalExpense;\r\n      },\r\n      displayMonth: function () {\r\n         let now;\r\n         let year;\r\n         let month;\r\n         let months;\r\n\r\n         now = new Date();\r\n         months = [\r\n            \"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"\r\n         ];\r\n         month = now.getMonth();\r\n         year = now.getFullYear();\r\n         document.querySelector(DOMStrings.dateLabel).textContent = year + \" \" + months[month];\r\n      },\r\n\r\n      getDOMStrings: function () {\r\n         return DOMStrings;\r\n      }\r\n   };\r\n})();\r\n\r\n\r\n// Global App Controller\r\nlet controller = (function (budget, UI, charts) {\r\n\r\n   let DOM = UI.getDOMStrings();\r\n   let updateBudget = function () {\r\n      // 1. calculate the budget\r\n      budget.calculateBudget();\r\n      // 2. return the budget\r\n      let budgetNow = budget.getBudget();\r\n      // 3. Displaythe budget in the UI\r\n      UI.displayBudget(budgetNow);\r\n   }\r\n   // Show as soon as page loads\r\n   UI.displayMonth();\r\n   updateBudget();\r\n   UI.showOldDomItems();\r\n\r\n\r\n   let addItem = function () {\r\n      let input;\r\n      let newItem;\r\n      // 1. Get the input data from user\r\n      \r\n      // Warn user to select date by showing modal warning\r\n      let calDateList = document.querySelectorAll(\".vanilla-calendar-date\");\r\n     \r\n     let calDateListArr = Array.from(calDateList);\r\n     let isDateSelected = calDateListArr.some(function(item) {\r\n        if(item.classList.contains(\"vanilla-calendar-date--selected\")) {\r\n           console.log(item)\r\n           return true\r\n        }\r\n     })\r\n     if (isDateSelected == false) {\r\n         UI.ModalWindow.openModal({\r\n            title: \"Error\",\r\n            content: \"Date not selected!\"\r\n         });\r\n     }\r\n\r\n      input = UI.getInput();\r\n      // Validate data inputed by user\r\n      if (input.description !== \"\" && !isNaN(input.value) && input.value > 0) {\r\n\r\n         // Success message to user\r\n         UI.ModalWindow.openModal({\r\n            title: \"Success\",\r\n            content: \"Entry added!\"\r\n         })\r\n         // 2. Add the item to the data object\r\n         newItem = budget.addItemToArray(input.type, input.category, input.description, input.value, input.date);\r\n         // 3. Add the item to the monthData object\r\n         budget.updateAllMonths();\r\n\r\n         // 4. Add the item to the DOM\r\n         UI.addItemToDom(newItem, input.type);\r\n         // 5. Clear input fields in DOM\r\n         UI.clearFields();\r\n\r\n         // 6. Update budget in DOM\r\n         updateBudget();\r\n\r\n      } else {\r\n         console.log(\"User Input Validation failed!\");\r\n      }\r\n   }\r\n\r\n   let deleteItem = function (event) {\r\n      let itemID;\r\n      let splitID;\r\n      let type;\r\n      let ID;\r\n\r\n      itemID = event.target.parentElement.parentElement.id;\r\n\r\n      if (itemID) {\r\n         splitID = itemID.split(\"-\");\r\n         type = splitID[0];\r\n         ID = parseInt(splitID[1]);\r\n      }\r\n      // 1. delete item from the data object\r\n      budget.deleteItemFromArray(type, ID);\r\n      // 2. update monthData object\r\n      budget.updateAllMonths();\r\n      // 3. delete item from DOM\r\n      UI.deleteItemFromDom(itemID);\r\n      // 4. Update and show new budget\r\n      updateBudget();\r\n   };\r\n\r\n   document.querySelector(DOM.inputBtn).addEventListener(\"click\", addItem);\r\n   document.addEventListener('keypress', function (event) {\r\n      if (event.keyCode === 13) {\r\n         addItem();\r\n      }\r\n   });\r\n   document.querySelector(DOM.listsContainer).addEventListener(\"click\", deleteItem);\r\n   document.addEventListener(\"DOMContentLoaded\", () => UI.ModalWindow.init());\r\n\r\n})(budgetController, UIController)"],"file":"app.js"}